!function(){"use strict";var e=angular.module("model",["Services"]);e.controller("Ctrl",["$scope","$http","$timeout","Services",function(e,o,t,n){e.temp=[],e.cant_rows="10",e.load=function(o,t,a){void 0==o&&(o=""),n.Load(o,t,a).then(function(o){e.data_load=o.data,e.temp.push(e.data_load),e.to=o.to,e.total=o.total,e.last_page=o.last_page,e.current_page=o.current_page,e.next_page_url=o.next_page_url,e.prev_page_url=o.prev_page_url,null!==e.prev_page_url&&(e.prev_page_url=e.prev_page_url.replace("?page=","")),null!==e.next_page_url&&(e.next_page_url=e.next_page_url.replace("?page=",""))},function(e){})},e.array=["cant_rows","search_text"],e.$watchGroup(e.array,function(o){console.log(o),void 0!=o?e.load(e.search_text,e.cant_rows,1):e.load("",e.cant_rows,1)}),e.init=function(){e.load("",e.cant_rows,1)},e.show=function(o){e.edit_copia={},n.Edit(o).then(function(o){e.edit=o,e.edit_copia.n=o.nombre,e.edit_copia.d=o.descripcion},function(e){})},e.create=function(){e.edit_copia={};var o;o={nombre:e.create.nombre,descripcion:e.create.descripcion},n.Create(o).then(function(o){console.log(o),$("#create").modal("hide"),e.init()},function(e){})},e.update=function(o){e.edit_copia={};var t;t={nombre:e.edit.nombre,descripcion:e.edit.descripcion},n.Update(o,t).then(function(o){console.log(o),$("#edit").modal("hide"),e.init()},function(e){})},e.delete=function(o){n.Delete(o).then(function(o){console.log(o),e.init()},function(e){})},e.guardar=function(e){n.Create(e).then(function(e){console.log(e)},function(e){})},e.create_bomberos=function(){n.load_bomberos().then(function(o){e.temp_data=[],e.results=o,angular.forEach(e.results,function(o){var t={nombre_temp:o.nombre+" - Bomberos",nombre_empresa:o.nombre,direccion:o.direccion,horario:"Las 24 horas",telefono_1:o.telefonos,correo:o.correo,lat:o.Lat,lng:o.Long,id_services:4,create_at:"2017-05-25 04:54:38",update_at:"2017-05-25 04:54:38"};e.temp_data.push(t),e.guardar(t)}),console.log(e.temp_data)},function(e){})}}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXIvVWJpY2FjaW9uZXMvQ3RybC5qcyJdLCJuYW1lcyI6WyJtb2RlbCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJGh0dHAiLCIkdGltZW91dCIsIlNlcnZpY2VzIiwidGVtcCIsImNhbnRfcm93cyIsImxvYWQiLCJxIiwicCIsInBhZ2UiLCJ1bmRlZmluZWQiLCJMb2FkIiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YV9sb2FkIiwiZGF0YSIsInB1c2giLCJ0byIsInRvdGFsIiwibGFzdF9wYWdlIiwiY3VycmVudF9wYWdlIiwibmV4dF9wYWdlX3VybCIsInByZXZfcGFnZV91cmwiLCJyZXBsYWNlIiwiYXJyYXkiLCIkd2F0Y2hHcm91cCIsIm4iLCJjb25zb2xlIiwibG9nIiwic2VhcmNoX3RleHQiLCJpbml0Iiwic2hvdyIsImlkIiwiZWRpdF9jb3BpYSIsIkVkaXQiLCJlZGl0Iiwibm9tYnJlIiwiZCIsImRlc2NyaXBjaW9uIiwiY3JlYXRlIiwic3RvcmUiLCJDcmVhdGUiLCIkIiwibW9kYWwiLCJ1cGRhdGUiLCJVcGRhdGUiLCJkZWxldGUiLCJEZWxldGUiLCJndWFyZGFyIiwiY3JlYXRlX2JvbWJlcm9zIiwibG9hZF9ib21iZXJvcyIsInRlbXBfZGF0YSIsInJlc3VsdHMiLCJmb3JFYWNoIiwidmFsdWUiLCJvYmoiLCJub21icmVfdGVtcCIsIm5vbWJyZV9lbXByZXNhIiwiZGlyZWNjaW9uIiwiaG9yYXJpbyIsInRlbGVmb25vXzEiLCJ0ZWxlZm9ub3MiLCJjb3JyZW8iLCJsYXQiLCJMYXQiLCJsbmciLCJMb25nIiwiaWRfc2VydmljZXMiLCJjcmVhdGVfYXQiLCJ1cGRhdGVfYXQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFDQSxJQUFJQSxHQUFRQyxRQUFRQyxPQUFPLFNBQ3RCLFlBSUxGLEdBQU1HLFdBQVcsUUFDWixTQUNELFFBQ0EsV0FDQSxXQUNBLFNBQ0lDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBTUpI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T0FDZEMsSUFBS1QsRUFBTVUsSUFDWEMsSUFBS1gsRUFBTVksS0FDWEMsWUFBYSxFQUNiQyxVQUFXLHNCQUNYQyxVQUFXLHNCQUdmckUsR0FBT21ELFVBQVVuQyxLQUFLdUMsR0FDdEJ2RCxFQUFPZ0QsUUFBUU8sS0FHbkI1QixRQUFRQyxJQUFJNUIsRUFBT21ELFlBRXBCLFNBQVV0QyIsImZpbGUiOiJhbmd1bGFyL1ViaWNhY2lvbmVzL0N0cmwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuJ3VzZSBzdHJpY3QnO1xudmFyIG1vZGVsID0gYW5ndWxhci5tb2R1bGUoJ21vZGVsJywgXG4gICAgWydTZXJ2aWNlcycgXSk7XG5cbnZhciBzZWxldGVkVmFsdWUgPSAxNTtcblxubW9kZWwuY29udHJvbGxlcignQ3RybCcsIFxuICAgIFsnJHNjb3BlJyxcbiAgICAnJGh0dHAnLFxuICAgICckdGltZW91dCcsXG4gICAgJ1NlcnZpY2VzJywgXG4gICAgZnVuY3Rpb24oXG4gICAgICAgICRzY29wZSxcbiAgICAgICAgJGh0dHAsXG4gICAgICAgICR0aW1lb3V0LFxuICAgICAgICBTZXJ2aWNlcylcbnsgIFxuICAgIHZhciBodG1sID0gZnVuY3Rpb24oaWQpIHsgXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7IFxuICAgIH07XG5cbiAgICAkc2NvcGUudGVtcCA9IFtdO1xuICAgICRzY29wZS5jYW50X3Jvd3MgPSBcIjEwXCI7XG4gICAgXG4gICAgJHNjb3BlLmxvYWQgPSBmdW5jdGlvbihxLHAscGFnZSl7XG4gICAgICAgIGlmKHEgPT0gdW5kZWZpbmVkKXsgXG4gICAgICAgICAgICBxID0gXCJcIjtcbiAgICAgICAgfSAgIFxuICAgICAgICBTZXJ2aWNlcy5Mb2FkKHEscCxwYWdlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLmRhdGFfbG9hZCA9IHJlc3BvbnNlLmRhdGE7IFxuICAgICAgICAgICAgJHNjb3BlLnRlbXAucHVzaCgkc2NvcGUuZGF0YV9sb2FkKTsgIFxuICAgICAgICAgICAgJHNjb3BlLnRvID0gcmVzcG9uc2UudG87IFxuICAgICAgICAgICAgJHNjb3BlLnRvdGFsID0gcmVzcG9uc2UudG90YWw7XG4gICAgICAgICAgICAkc2NvcGUubGFzdF9wYWdlID0gcmVzcG9uc2UubGFzdF9wYWdlO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRfcGFnZSA9IHJlc3BvbnNlLmN1cnJlbnRfcGFnZTtcbiAgICAgICAgICAgICRzY29wZS5uZXh0X3BhZ2VfdXJsID0gcmVzcG9uc2UubmV4dF9wYWdlX3VybDtcbiAgICAgICAgICAgICRzY29wZS5wcmV2X3BhZ2VfdXJsID0gcmVzcG9uc2UucHJldl9wYWdlX3VybDsgXG4gICAgICAgICAgICBpZigkc2NvcGUucHJldl9wYWdlX3VybCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wcmV2X3BhZ2VfdXJsID0gJHNjb3BlLnByZXZfcGFnZV91cmwucmVwbGFjZShcIj9wYWdlPVwiLFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoJHNjb3BlLm5leHRfcGFnZV91cmwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV4dF9wYWdlX3VybCA9ICRzY29wZS5uZXh0X3BhZ2VfdXJsLnJlcGxhY2UoXCI/cGFnZT1cIixcIlwiKTsgXG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgIFxuICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgfSk7IFxuICAgIH0gXG5cbiAgICAkc2NvcGUuYXJyYXkgPSBbJ2NhbnRfcm93cycsJ3NlYXJjaF90ZXh0J107XG4gICAgJHNjb3BlLiR3YXRjaEdyb3VwKCRzY29wZS5hcnJheSwgZnVuY3Rpb24obil7XG4gICAgICAgIGNvbnNvbGUubG9nKG4pO1xuICAgICAgICBpZihuICE9IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAkc2NvcGUubG9hZCgkc2NvcGUuc2VhcmNoX3RleHQsJHNjb3BlLmNhbnRfcm93cywxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgJHNjb3BlLmxvYWQoJycsJHNjb3BlLmNhbnRfcm93cywxKTtcbiAgICAgICAgfVxuICAgIH0pOyBcbiAgICBcbiAgICAkc2NvcGUuaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5sb2FkKCcnLCRzY29wZS5jYW50X3Jvd3MsMSk7XG4gICAgfSAgXG4gXG4gICAgJHNjb3BlLnNob3cgPSBmdW5jdGlvbihpZCl7XG4gICAgICAgICRzY29wZS5lZGl0X2NvcGlhID0ge307XG4gICAgICAgIFNlcnZpY2VzLkVkaXQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuZWRpdCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgJHNjb3BlLmVkaXRfY29waWEubiA9IHJlc3BvbnNlLm5vbWJyZTtcbiAgICAgICAgICAgICRzY29wZS5lZGl0X2NvcGlhLmQgPSByZXNwb25zZS5kZXNjcmlwY2lvbjsgXG4gICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuZWRpdF9jb3BpYSA9IHt9O1xuICAgICAgICB2YXIgc3RvcmU7XG4gICAgICAgIHN0b3JlID1cbiAgICAgICAge1xuICAgICAgICAgICAgbm9tYnJlOiRzY29wZS5jcmVhdGUubm9tYnJlLFxuICAgICAgICAgICAgZGVzY3JpcGNpb246JHNjb3BlLmNyZWF0ZS5kZXNjcmlwY2lvblxuICAgICAgICB9XG4gICAgICAgIFNlcnZpY2VzLkNyZWF0ZShzdG9yZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICQoJyNjcmVhdGUnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgJHNjb3BlLmluaXQoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgJHNjb3BlLmVkaXRfY29waWEgPSB7fTtcbiAgICAgICAgdmFyIHVwZGF0ZTtcbiAgICAgICAgdXBkYXRlID1cbiAgICAgICAge1xuICAgICAgICAgICAgbm9tYnJlOiRzY29wZS5lZGl0Lm5vbWJyZSxcbiAgICAgICAgICAgIGRlc2NyaXBjaW9uOiRzY29wZS5lZGl0LmRlc2NyaXBjaW9uXG4gICAgICAgIH1cbiAgICAgICAgU2VydmljZXMuVXBkYXRlKGlkLHVwZGF0ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICQoJyNlZGl0JykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgICRzY29wZS5pbml0KCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihpZCl7IFxuICAgICAgICBTZXJ2aWNlcy5EZWxldGUoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAkc2NvcGUuaW5pdCgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgfSk7XG4gICAgfTsgIFxuICAgIC8vICRzY29wZS5zaG93X3BhbmVsID0gdHJ1ZTtcbiAgICAvLyAkc2NvcGUuc2hvd19kZXRhbGxlID0gZmFsc2U7XG4gICAgLy8gdmFyIG1hcDtcbiAgICAvLyB2YXIgaW5mb1dpbmRvdyA9IG51bGw7XG5cbiAgICAvLyBmdW5jdGlvbiBjbG9zZUluZm9XaW5kb3coKXtcbiAgICAvLyAgICAgaW5mb1dpbmRvdy5jbG9zZSgpO1xuICAgIC8vIH1cbiAgICAgXG5cbiAgICAvLyAkc2NvcGUuTWFwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcGEnKSwge1xuICAgIC8vICAgICAgICAgY2VudGVyOiB7bGF0OiAtMTIuMDQ2NjI5LCBsbmc6IC03Ny4wMjE0MzM3fSxcbiAgICAvLyAgICAgICAgIHpvb206IDExXG4gICAgLy8gICAgIH0pO1xuICAgICAgICBcbiAgICAvLyB9XG5cblxuXG4gICAgLy8gJHNjb3BlLmluaXRNYXAgPSBmdW5jdGlvbigpIHtcbiAgICAvLyAgICAgJHNjb3BlLk1hcCgpO1xuICAgIC8vICAgICAkc2NvcGUuc2V0TWFya2VycyhtYXApO1xuICAgIC8vICAgICAvLyAkc2NvcGUuaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KCk7XG4gICAgLy8gICAgIC8vIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ2NsaWNrJywgJHNjb3BlLmNsb3NlSW5mb1dpbmRvdygpKTtcblxuICAgIC8vICAgICAvLyB2YXIgaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHttYXA6IG1hcH0pO1xuXG4gICAgLy8gICAgIC8vIFRyeSBIVE1MNSBnZW9sb2NhdGlvbi5cbiAgICAvLyAgICAgLy8gJHNjb3BlLmxvY2F0aW9uKCk7XG4gICAgICAgIFxuICAgIC8vIH1cbiAgICAvLyAkc2NvcGUubG9jYXRpb24gPSBmdW5jdGlvbigpe1xuICAgIC8vICAgICAkc2NvcGUuaW5pdE1hcCgpO1xuICAgIC8vICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XG4gICAgLy8gICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgLy8gICAgICAgICAgICAgJHNjb3BlLnBvc2ljaW9uX2FjdHVhbCA9IHtcbiAgICAvLyAgICAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgIC8vICAgICAgICAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXG4gICAgLy8gICAgICAgICAgICAgfTtcbiAgICAvLyAgICAgICAgICAgICB2YXIgaW1hZ2UgPSB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHVybDogJy9hc3NldHMvYXBwL2ltYWdlcy9wb3NpdGlvbl9hY3R1YWwucG5nJywgXG4gICAgLy8gICAgICAgICAgICAgICAgIHNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDUwLCA1MCksIFxuICAgIC8vICAgICAgICAgICAgICAgICBvcmlnaW46IG5ldyBnb29nbGUubWFwcy5Qb2ludCgwLCAwKSwgXG4gICAgLy8gICAgICAgICAgICAgICAgIGFuY2hvcjogbmV3IGdvb2dsZS5tYXBzLlBvaW50KDAsIDQwKVxuICAgIC8vICAgICAgICAgICAgIH07IFxuICAgIC8vICAgICAgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAvLyAgICAgICAgICAgICAgICAgcG9zaXRpb246ICRzY29wZS5wb3NpY2lvbl9hY3R1YWwsXG4gICAgLy8gICAgICAgICAgICAgICAgIG1hcDogbWFwLFxuICAgIC8vICAgICAgICAgICAgICAgICBpY29uOiBpbWFnZSxcbiAgICAvLyAgICAgICAgICAgICAgICAgem9vbTogMTFcbiAgICAvLyAgICAgICAgICAgICB9KTtcbiAgICAvLyAgICAgICAgICAgICAvLyBpbmZvV2luZG93LnNldFBvc2l0aW9uKHBvcyk7XG4gICAgLy8gICAgICAgICAgICAgLy8gaW5mb1dpbmRvdy5zZXRDb250ZW50KCdMb2NhdGlvbiBmb3VuZC4nKTtcbiAgICAvLyAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKCRzY29wZS5wb3NpY2lvbl9hY3R1YWwpO1xuICAgIC8vICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgICAgICAgJHNjb3BlLmhhbmRsZUxvY2F0aW9uRXJyb3IodHJ1ZSwgaW5mb1dpbmRvdywgbWFwLmdldENlbnRlcigpKTtcbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgLy8gQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgR2VvbG9jYXRpb25cbiAgICAvLyAgICAgICAgICRzY29wZS5oYW5kbGVMb2NhdGlvbkVycm9yKGZhbHNlLCBpbmZvV2luZG93LCBtYXAuZ2V0Q2VudGVyKCkpO1xuXG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyAkc2NvcGUuaGFuZGxlTG9jYXRpb25FcnJvcj0gZnVuY3Rpb24oYnJvd3Nlckhhc0dlb2xvY2F0aW9uLCBpbmZvV2luZG93LCBwb3MpIHtcbiAgICAvLyAgICAgLy8gaW5mb1dpbmRvdy5zZXRQb3NpdGlvbihwb3MpO1xuICAgIC8vICAgICAvLyBpbmZvV2luZG93LnNldENvbnRlbnQoYnJvd3Nlckhhc0dlb2xvY2F0aW9uID9cbiAgICAvLyAgICAgICAgIC8vICdFcnJvcjogRWwgc2VydmljaW8gZGUgR2VvbG9jYWxpemFjaW9uIEZhbGzDsy4nIDpcbiAgICAvLyAgICAgICAgIC8vICdFcnJvcjogWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGdlb2xvY2F0aW9uLicpO1xuICAgIC8vIH0gXG5cbiAgICAvLyAkc2NvcGUuc2V0TWFya2VycyA9IGZ1bmN0aW9uKG1hcCkgeyBcbiAgICAvLyAgICAgdmFyIGltYWdlID0geyBcbiAgICAvLyAgICAgICAgIHVybDogJ2h0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL21hcHMvZG9jdW1lbnRhdGlvbi9qYXZhc2NyaXB0L2V4YW1wbGVzL2Z1bGwvaW1hZ2VzL2JlYWNoZmxhZy5wbmcnLCBcbiAgICAvLyAgICAgICAgIHNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDIwLCAzMiksIFxuICAgIC8vICAgICAgICAgb3JpZ2luOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwgMCksIFxuICAgIC8vICAgICAgICAgYW5jaG9yOiBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwgMClcbiAgICAvLyAgICAgfTsgIFxuICAgIC8vICAgICAvLyB2YXIgaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHttYXA6IG1hcH0pO1xuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUuZGF0YV9sb2FkLmxlbmd0aCk7XG4gICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmRhdGFfbG9hZC5sZW5ndGg7IGkrKykgeyBcbiAgICAvLyAgICAgICAgIHZhciBiZWFjaCA9ICRzY29wZS5kYXRhX2xvYWRbaV07XG4gICAgLy8gICAgICAgICB2YXIgcG9zID0ge1xuICAgIC8vICAgICAgICAgICBsYXQ6IHBhcnNlRmxvYXQoYmVhY2gubGF0KSxcbiAgICAvLyAgICAgICAgICAgbG5nOiBwYXJzZUZsb2F0KGJlYWNoLmxuZylcbiAgICAvLyAgICAgICAgIH07IFxuICAgIC8vICAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgIC8vICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3MsXG4gICAgLy8gICAgICAgICAgICAgbWFwOiBtYXAsXG4gICAgLy8gICAgICAgICAgICAgYW5pbWF0aW9uOiBnb29nbGUubWFwcy5BbmltYXRpb24uRFJPUCwgXG4gICAgLy8gICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAvLyAgICAgICAgICAgICBpY29uOiBpbWFnZVxuXG4gICAgLy8gICAgICAgICB9KTtcbiAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKG1hcmtlcik7XG4gICAgLy8gICAgICAgICAvLyAkc2NvcGUubWFya2Vyc19ob3ZlcihtYXJrZXIpO1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuICAgIC8vIGluZm9XaW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdygpOyBcbiAgICAvLyAkc2NvcGUubWFya2Vyc19ob3ZlciA9IGZ1bmN0aW9uKGxhdCwgbG5nLGZvdG8sdGl0dWxvLGRpcmVjY2lvbixkYXRhKXsgXG4gICAgLy8gICAgIHZhciBwb3MgPSB7fTtcbiAgICAvLyAgICAgcG9zLmxhdCA9IHBhcnNlRmxvYXQobGF0KTtcbiAgICAvLyAgICAgcG9zLmxuZyA9IHBhcnNlRmxvYXQobG5nKTsgXG4gICAgLy8gICAgIGluZm9XaW5kb3cuY2xvc2UoKTtcbiAgICAvLyAgICAgaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHttYXA6IG1hcCxtYXhXaWR0aDogMjAwfSk7XG4gICAgLy8gICAgIGluZm9XaW5kb3cuc2V0UG9zaXRpb24ocG9zKTsgXG4gICAgLy8gICAgIGluZm9XaW5kb3cuc2V0Q29udGVudChcbiAgICAvLyAgICAgICAgIFtcbiAgICAvLyAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNlbnRlciBnbG9ib191YmljYWNpb25cIj4nLCBcbiAgICAvLyAgICAgICAgICAgICAnPGltZyB3aWR0aD1cIjEwMCVcIiBzcmM9XCInK2ZvdG8rJ1wiPicsXG4gICAgLy8gICAgICAgICAgICAgJzxoNj4nK3RpdHVsbysnPC9oNj4nLCBcbiAgICAvLyAgICAgICAgICAgICAnPHA+JytkaXJlY2Npb24rJzwvcD4nLFxuICAgIC8vICAgICAgICAgICAgICc8YSBocmVmPVwiIyFcIiBuZy1jbGljaz1cInNob3dfbWFya2VyKCcrZGF0YSsnKVwiIGNsYXNzPVwiYnRuIHB1bGwtcmlnaHRcIj5WZXI8L2E+JyxcbiAgICAvLyAgICAgICAgICAgICAnPC9kaXY+J1xuICAgIC8vICAgICAgICAgXS5qb2luKCcnKVxuICAgIC8vICAgICApO1xuICAgIC8vICAgICBtYXAuc2V0Q2VudGVyKG5ldyBnb29nbGUubWFwcy5MYXRMbmcocG9zKSk7XG4gICAgLy8gICAgIG1hcC5zZXRab29tKDE1KTsgICAgXG4gICAgLy8gICAgICRzY29wZS5zZXRfZ29vZ2xlX21hcHMoKTtcbiAgICAgICAgXG4gICAgICAgIFxuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhsYXQsbG5nKVxuICAgIC8vIH0gXG4gICAgLy8gJHNjb3BlLnNldF9nb29nbGVfbWFwcyA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gICAgIHZhciBpd091dGVyID0gJCgnLmdtLXN0eWxlLWl3Jyk7XG4gICAgLy8gICAgIHZhciBpd0Nsb3NlQnRuID0gaXdPdXRlci5uZXh0KCk7XG4gICAgLy8gICAgIHZhciBpd0JhY2tncm91bmQgPSBpd091dGVyLnByZXYoKTsgXG4gICAgLy8gICAgIGl3QmFja2dyb3VuZC5jaGlsZHJlbignOm50aC1jaGlsZCgyKScpLmNzcyh7J2Rpc3BsYXknIDogJ25vbmUnfSk7IFxuICAgIC8vICAgICBpd0JhY2tncm91bmQuY2hpbGRyZW4oJzpudGgtY2hpbGQoNCknKS5jc3MoeydkaXNwbGF5JyA6ICdub25lJ30pO1xuICAgIC8vICAgICBpd091dGVyLnBhcmVudCgpLnBhcmVudCgpLmNzcyh7bGVmdDogJzQwcHgnfSk7XG4gICAgLy8gICAgIGl3QmFja2dyb3VuZC5jaGlsZHJlbignOm50aC1jaGlsZCgxKScpLmF0dHIoJ3N0eWxlJywgZnVuY3Rpb24oaSxzKXsgcmV0dXJuIHMgKyAnbGVmdDogODRweCAhaW1wb3J0YW50Oyd9KTtcbiAgICAvLyAgICAgaXdCYWNrZ3JvdW5kLmNoaWxkcmVuKCc6bnRoLWNoaWxkKDMpJykuYXR0cignc3R5bGUnLCBmdW5jdGlvbihpLHMpeyByZXR1cm4gcyArICdsZWZ0OiA4NHB4ICFpbXBvcnRhbnQ7J30pO1xuICAgIC8vICAgICBpd0JhY2tncm91bmQuY2hpbGRyZW4oJzpudGgtY2hpbGQoMyknKS5maW5kKCdkaXYnKS5jaGlsZHJlbigpLmNzcyh7J2JveC1zaGFkb3cnOiAncmdiYSgwLCAwLCAwLCAwKSAwcHggMXB4IDZweCcsICd6LWluZGV4JyA6ICcxJ30pO1xuICAgIC8vICAgICBpd0JhY2tncm91bmQuY2hpbGRyZW4oJzpudGgtY2hpbGQoMyknKS5jaGlsZHJlbignOm50aC1jaGlsZCgxKScpLmZpbmQoJ2RpdicpLmF0dHIoJ3N0eWxlJywgZnVuY3Rpb24oaSxzKXsgcmV0dXJuIHMgKyAnaGVpZ2h0OiAyMXB4ICFpbXBvcnRhbnQ7Jysnd2lkdGg6IDEwcHggIWltcG9ydGFudDsnKydsZWZ0OjdweCAhaW1wb3J0YW50Oyd9KTtcbiAgICAvLyAgICAgaXdCYWNrZ3JvdW5kLmNoaWxkcmVuKCc6bnRoLWNoaWxkKDMpJykuY2hpbGRyZW4oJzpudGgtY2hpbGQoMiknKS5maW5kKCdkaXYnKS5hdHRyKCdzdHlsZScsIGZ1bmN0aW9uKGkscyl7IHJldHVybiBzICsgJ2hlaWdodDogMjVweCAhaW1wb3J0YW50OycrJ3dpZHRoOiA5cHggIWltcG9ydGFudDsnfSk7XG4gICAgLy8gICAgIGl3Q2xvc2VCdG4uY3NzKHsnZGlzcGxheSc6ICdub25lJ30pO1xuICAgIC8vIH1cbiAgICAvLyAkc2NvcGUuc2hvd19tYXJrZXIgPSBmdW5jdGlvbihkYXRhKXtcbiAgICAvLyAgICAgJHNjb3BlLnNob3dfZGV0YWxsZSA9IHRydWU7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIC8vICAgICAkc2NvcGUuZGV0YWxsZSA9IGRhdGE7XG4gICAgLy8gICAgICRzY29wZS5zaG93X3BhbmVsID0gZmFsc2U7XG4gICAgLy8gfVxuICAgIC8vICRzY29wZS5yZXR1cm4gPSBmdW5jdGlvbigpe1xuICAgIC8vICAgICAkc2NvcGUuc2hvd19kZXRhbGxlID0gZmFsc2U7IFxuICAgIC8vICAgICAkc2NvcGUuc2hvd19wYW5lbCA9IHRydWU7XG4gICAgLy8gfVxuICAgICRzY29wZS5ndWFyZGFyID0gZnVuY3Rpb24gKGRhdGEpeyAgXG4gICAgICAgIFNlcnZpY2VzLkNyZWF0ZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgLy8gJHNjb3BlLmluaXQoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgJHNjb3BlLmNyZWF0ZV9ib21iZXJvcyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIFNlcnZpY2VzLmxvYWRfYm9tYmVyb3MoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLnRlbXBfZGF0YSA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSByZXNwb25zZTsgXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnJlc3VsdHMsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICAgICAgICBub21icmVfdGVtcCA6IHZhbHVlLm5vbWJyZStcIiAtIEJvbWJlcm9zXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vbWJyZV9lbXByZXNhIDogdmFsdWUubm9tYnJlLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY2Npb246IHZhbHVlLmRpcmVjY2lvbixcbiAgICAgICAgICAgICAgICAgICAgaG9yYXJpbzogJ0xhcyAyNCBob3JhcycsXG4gICAgICAgICAgICAgICAgICAgIHRlbGVmb25vXzE6IHZhbHVlLnRlbGVmb25vcywgXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlbzogdmFsdWUuY29ycmVvLCBcbiAgICAgICAgICAgICAgICAgICAgbGF0OiB2YWx1ZS5MYXQsXG4gICAgICAgICAgICAgICAgICAgIGxuZzogdmFsdWUuTG9uZywgXG4gICAgICAgICAgICAgICAgICAgIGlkX3NlcnZpY2VzOiA0ICxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlX2F0OiAnMjAxNy0wNS0yNSAwNDo1NDozOCcsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9hdDogJzIwMTctMDUtMjUgMDQ6NTQ6MzgnXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRlbXBfZGF0YS5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmd1YXJkYXIob2JqKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLnRlbXBfZGF0YSk7XG4gICAgICAgICAgICAvLyAkc2NvcGUudGVtcC5wdXNoKCRzY29wZS5kYXRhX2xvYWQpOyAgXG4gICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gJHNjb3BlLmNyZWF0ZV9ib21iZXJvcygpO1xuIFxufV0pO1xufSkoKTsiXX0=
